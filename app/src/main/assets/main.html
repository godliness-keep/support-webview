<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="main.css">
    <title>callEvent</title>
    <script type="text/javascript" src="js-sdk/core/wxBridge.js"></script>
    <script type="text/javascript" src="js-sdk/utils/platform.js"></script>
    <script type="text/javascript" src="js-sdk/core/chunkParse.js"></script>
    <script type="text/javascript" src="js-sdk/core/lrBridgeCore.js"></script>
    <script type="text/javascript" src="js-sdk/core/receiver.js"></script>
    <style type="text/css">
			button {
				width: 100%;
				height: 2.5rem;
				margin-top: 0.5rem;
			}
    </style>
</head>
<body>

<button type="button" onclick="scanQRCode()">
    扫码
</button>

<button type="button" onclick="getLocation()">
    定位
</button>

<button type="button" onclick="getNetworkType()">
    获取网络类型
</button>

<button type="button" onclick="showShareUI()">
    显示分享 UI
</button>

<button type="button" onclick="shareToQQ()">
    分享到 QQ
</button>

<button type="button" onclick="shareToQZone()">
    分享到 QQ 空间
</button>
<button type="button" onclick="shareToWechat()">
    分享到 微信
</button>
<button type="button" onclick="shareToWechatMoment()">
    分享到微信朋友圈
</button>


<script>
			

			/**
			 * 使用之前要先初始化 lr 框架*/
			lr.ready();

            lr.config({
                methodList:[
                    'scanQRCode',
                    'getLocation',
                    'getNetworkType',
                    'showShareUI',
                    'shareToQQ',
                    'shareToQZone',
                    'shareToWechat',
                    'shareToWechatMoment'
                ]
            });

			/**
			 * JavaScript 通过 Event 调用到 Native
			 * */

			/**
			 * 调用 Native 事件（无参数无返回值，可以 callback）*/
			function scanQRCode() {
			    lr.scanQRCode({
			        tip: '我要扫码了，都躲开',
			        success: function(res) {
						alert('扫码返回： ' + res.qrValue);
					}
			    });
			}

			/**
			 * 调用 Native 事件，无参数有返回值*/
			function getLocation() {
			    lr.getLocation({
			        type: 'bd0911',
					isHighAccuracy: true,
					isAddress: true,
					success: function(res) {
						alert('定位结果：' + JSON.stringify(res));
					},
					failed: function(){
					    alert('定位失败');
					}
			    });
			}

			/**
			 * 调用 Native 事件，含有参数无返回值*/
			function getNetworkType() {
			    lr.getNetworkType({
			        success: function(res) {
						alert('当前网络类型为：' + res.networkType);
					}
			    });
			}

			/**
			 * 调用 Native 事件，含参数含返回值*/
			function showShareUI() {
			    lr.showShareUI({
			        title: '我是分享',
					desc: '我是描述信息，用于说明分享相关情况',
					link: 'https://www.baidu.com',
					success: function(res) {
						alert('用户触发了分享: ' + res.result);
					},
					cancel: function(){
						alert('用户取消了分享');
					}
			    });
			}

			/**
			 * 大数据传递（默认超过 1M）
			 * */
			function shareToQQ() {
			    lr.shareToQQ({
			        title: '我是分享标题',
					desc: '我是分享描述',
					link: 'https://www.baidu.com',
					success: function(res) {
						 alert('用户执行了分享: ' + res.result);
					},
					cancel:function(){
						alert('用户取消了分享')
					}
			    });
			}

			/**分享到 QQ 空间*/
			function shareToQZone(){
			    lr.shareToQZone({
			        title: '我是分享标题',
					desc: '我是分享描述',
					link: 'https://www.baidu.com',
					success: function(res){
			            alert('用户执行了分享: ' + res.result)
			        },
			        cancel: function(){
			            alert('用户取消了分享')
			        }
			    });
			}

			/**分享到微信*/
			function shareToWechat(){
			    lr.shareToWechat({
			        title: '我是分享标题',
					desc: '我是分享描述',
					link: 'https://www.baidu.com',
					success: function(res){
			            alert('用户执行了分享: ' + res.result)
			        },
			        cancel: function(){
			            alert('用户取消了分享')
			        }
			    });
			}

			/**分享到微信朋友圈*/
			function shareToWechatMoment(){
			    lr.shareToWechatMoment({
			        title: '我是分享标题',
					link: 'https://www.baidu.com',
					success: function(res){
			            alert('用户执行了分享: ' + res.result)
			        },
			        cancel: function(){
			            alert('用户取消了分享')
			        }
			    });
			}

</script>

</body>

</html>
